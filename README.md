# TECHIN 509 â€“ Melody Generator Clean Up

This project implements a simple music melody generator using a **bigram
(note-to-note) probabilistic model**.  
The model is trained from a text file of melodies and can then generate
new melodies by sampling from learned transition probabilities.

The repository is fully self-contained and reproducible.

---

## Project Structure


Music Generator File/

â”œâ”€â”€ data/

â”‚   â”œâ”€â”€ melodies.txt          # training data (one melody per line)

â”‚   â””â”€â”€ bigram_model.json     # trained model (auto-generated)

â”œâ”€â”€ models.py                 # training, sampling, save/load logic

â””â”€â”€ tests-test-models.py     # unit tests


## 

ğŸ§  Model Description

The model is a bigram model, which learns:

P(next_note | current_note)


Special tokens are used:

^ â†’ start of melody

$ â†’ end of melody

Transition frequencies are stored as:

dict[current_note] â†’ dict[next_note] = count


New melodies are generated by weighted random sampling based on
learned transition counts.

An option is included to prevent triple repeated notes (AAA).

â–¶ï¸ How to Run the Program
1. Make sure the training file exists

Your training data must be inside:

data/melodies.txt


Each line must be a melody with space-separated tokens. Example:

C4 D4 E4 F4 G4
C4 E4 G4 C5
G3 A3 B3 C4
C4 C4 G4 G4

2. Train the model

From inside the project folder, run:

python models.py


This will:

Load data/melodies.txt

Train the bigram model

Save the model to:

data/bigram_model.json


Print an example generated melody to the terminal

Example output:

Training model from data/melodies.txt ...
Saved model to data/bigram_model.json
Example generated melody:
C4 E4 G4 C5

ğŸµ Generating a Melody Manually

You can also generate melodies interactively:

import random
from models import load_model, generate_melody

model = load_model("data/bigram_model.json")
melody = generate_melody(model, max_length=32, rng=random.Random(509))
print(" ".join(melody))

ğŸ§ª Running Unit Tests

Run all tests with:

python -m unittest


This verifies:

Correct start/end token behavior

Correct bigram count construction

Valid melody generation

Triple-repeat prevention logic

âœ… Reproducibility

This project is self-contained.
Anyone can reproduce results by:

Cloning the repository

Ensuring data/melodies.txt exists

Running:

python models.py
python -m unittest


No external Python packages are required beyond the standard library.